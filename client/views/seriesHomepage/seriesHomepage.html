<template name="seriesHomepage">
    <div class="ui series-blurb container stackable grid">
        {{#with currentSeries}}
            <div class="four wide column">
                <img src="{{poster.url}}">
            </div>
            <div class="ui twelve wide column">
                <div class="ui centered huge header">{{title}}</div>
                <br/>
                <div>{{{description}}}</div>
            </div>

            {{#if seriesArcs}}
                <div class="ui sixteen wide column segment">
                    {{#each seriesArcs}}
                        {{> singleArcButton }}
                    {{/each}}
                </div>
            {{/if}}
            <div class="ui sixteen wide column">
                <div class="ui centered relaxed grid">
                    {{#if currentUser }}
                        <div class="ui right labeled left icon input">
                            <i class="tags icon"></i>
                            <input id="newTagInputTitle" type="text" placeholder="title">
                            <input id="newTagInputColour" type="text" placeholder="colour">
                            <input id="newTagInputDescription" type="text" placeholder="description">
                            <a id="newTagSubmit" class="ui tag label">
                                add tag
                            </a>
                        </div>
                    {{/if}}
                </div>
            </div>

            <div class="ui centered container">
                <br/>
                <br/>
                <div class="ui accordion">
                    {{#each filteredEpisodes}}
                        {{> singleEpisode }}
                    {{/each}}
                </div>
            </div>
        {{/with}}
    </div>
</template>

<template name="singleEpisode">

    <div class="title">
        <div class="ui grid">
            <div class="ui three wide column">
                <span class="season-icon">S {{season}}</span> <span class="season-icon">E {{number}}</span>
            </div>
            <div class="ui eight wide column">
                <span class="ui medium header">{{title}}</span>
            </div>

            {{#if episodeArcChoices }}
                <div class="ui five wide right aligned column">
                    {{#each episodeArcs}}
                        {{> singleArcLabel }}
                    {{/each}}
                </div>
            {{/if}}
        </div>
    </div>
    <div class="content">
        <p>{{{description}}}</p>
        {{#if currentUser }}
            <div class="ui four column right aligned doubling grid">
                <div class="sixteen wide column">
                    {{#if episodeArcChoices }}
                        <div>Add Arc to Episode</div>
                        {{#each episodeArcChoices}}
                            {{> addArcDropdown }}
                        {{/each}}
                    {{/if}}
                </div>
            </div>
        {{/if}}
    </div>

    <div class="ui section divider"></div>
</template>

<template name="singleArcDescription">
    <div>
        <span class="ui small {{colour}} arc inverted button" id="{{_id}}">{{title}}</span> - {{{description}}}
    </div>
    <div class="ui section divider"></div>
</template>

<template name="singleArcButton">
    <span class="ui small {{colour}} arc inverted button" id="{{_id}}">{{title}}</span> - {{{description}}}
    <div class="ui section divider"></div>
</template>

<template name="singleArcLabel">
    <span class="ui mini {{colour}} arc tag label">{{title}}</span>
</template>

<template name="addArcDropdown">
    <a value="{{slug}}" class="ui {{colour}} circular label addArcButton">{{title}}</a>
</template>